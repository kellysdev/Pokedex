let pokemonRepository=function(){let e=[];function t(){return e}function n(t){Object.keys(t).includes("name","height","types")?e.push(t):alert("Verify the Pokemon information.")}function i(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.id=t.id,e.imageUrl=t.sprites.front_default,e.height=t.height/10,e.types=t.types.map(e=>e.type.name),e.abilities=t.abilities.map(e=>e.ability.name)}).catch(function(e){console.error(e)})}function a(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("list-group-item");let a=document.createElement("button");a.innerText=e.name[0].toUpperCase()+e.name.slice(1),a.classList.add("button"),a.classList.add("btn"),a.classList.add("data-toggle"),a.classList.add("data-target"),a.setAttribute("data-bs-toggle","modal"),a.setAttribute("data-bs-target","#exampleModal"),n.appendChild(a),t.appendChild(n),a.addEventListener("click",function(){i(e).then(function(){o(e)})})}document.querySelector("#exampleModal");function o(e){let t=$(".modal-body"),n=$(".modal-title");n.empty(),t.empty();let i=$('<img class="modal-img" style="width:50%">');i.attr("src",e.imageUrl);let a=$("<h1>"+e.name[0].toUpperCase()+e.name.slice(1)+"</h1>"),o=$("<p>No."+e.id+"</p>"),l=$("<p>Height: "+e.height+" meters</p>"),s=$("<p>Types: "+e.types+"</p>"),r=$("<p>Abilities: "+e.abilities+"</p>");n.append(a),t.append(i),t.append(o),t.append(l),t.append(s),t.append(r)}return document.querySelector("#form1").addEventListener("input",t=>{let n=t.target.value,i=e.filter(e=>e.name.includes(n));document.querySelector(".pokemon-list").innerHTML="",i.forEach(e=>{a(e)})}),{getAll:t,add:n,addListItem:a,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i,populateModal:o,preloadImages:function e(t){new Image().src=t.imageUrl}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});